# dont touch $1 or $BASH_REMATCH or $REPLY
if [ -d .git ]
then
  read k <.git/HEAD
  if [[ $k < g ]]
  then
    k=${k::7}
  else
    k=${k/*\/}
  fi
  k="($k)"
fi

PS1="\e];$TERM\a
\e[32m\u@\h \e[33m\w $k\e[m
$ "

unset k
