# dont touch $1 or $BASH_REMATCH or $REPLY
if [ -d .git ]
then
  read q <.git/HEAD
  if [[ $q < g ]]
  then
    q=${q::7}
  else
    q=${q/*\/}
  fi
  q="($q)"
fi

PS1="\e];$TERM\a
\e[32m\u@\h \e[33m\w $q\e[m
$ "

unset q
