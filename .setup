# must run a single time to avoid repeated downloading of setup.ini

pk=(
  wget                    # 17 occurances
  mingw64-x86_64-gcc-core # 12 occurances
  make                    # 12 occurances
  curl                    # 9 occurances
  unzip                   # 3 occurances
  zip                     # 3 occurances
)

setup-x86 -nqP $(
  IFS=,
  echo "${pk[*]}"
)

cd /etc/setup
attrib +r setup.rc

# cygwin.com/ml/cygwin/2013-06/msg00489.html
if curl -sz 20120214 box-soft.com/x86/release/git/md5.sum | read
then
  echo "echo 'new git available; fix $0'" >> ~/.bash_profile
else
  setup-x86 -nq -K http://cygwinports.org/ports.gpg \
    -s http://mirrors.kernel.org/sources.redhat.com/cygwinports \
    -P git
fi
