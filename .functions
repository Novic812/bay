#!/bin/sh
# Functions; need to export so that scripts can use them

clear(){
    printf '\ec'
}

notepad(){
  cygpath -m "$1" | xargs notepad
}

export -f clear notepad

bootstrap(){
  cd ~/dotfiles
  # ~
  git ls-files -ix ".*" | xargs cp -t ~
  # firefox
  cp -r firefox/. "$APPDATA"/*/*/Profiles/*
  # notepad2
  cp -r notepad2/. "$APPDATA"/Notepad2
  # Hide dotfiles
  # attrib /d /s +h ".*"
}

chere(){
  # Add Cygwin to right click menus
  keys=(
    /root/Directory/Background/shell/Cygwin
    /root/Directory/shell/Cygwin
  )
  data="wscript $(cygpath -m $HOME)/dotfiles/.vbs \"%v\""
  for key in "${keys[@]}"; do
    regtool add "$key"
    regtool add "$key/command"
    regtool set "$key/command/" "$data"
  done
}
