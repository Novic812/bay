#!/bin/sh

r(){
  reg add "$1" -d "$2" -f ${3+-v $3 -t REG_DWORD}
}

# Assoicate no extension and unknown files with Notepad2
: 'notepad %1'
r 'HKCR\*\shell\Notepad2\command' "$_"
r 'HKCR\Unknown\shell\Notepad2\command' "$_"
r 'HKCR\Unknown\shell' Notepad2

# Add Cygwin to right click menus
: 'cmd /c cd %v & start C:\cygwin\bin\bash -l'
r 'HKCR\Directory\Background\shell\Cygwin\command' "$_"
r 'HKCR\Directory\shell\Cygwin\command' "$_"

# VLC option for folders
r 'HKCR\Directory\shell\VLC\command' "$PROGRAMFILES\VideoLAN\VLC\vlc %1"

# QuickEdit Mode
r 'HKCU\Console' 1 QuickEdit
# 2000 x 80 = 0x7d0 x 0x50 = 0x7d00050
r 'HKCU\Console' 0x7d00050 ScreenBufferSize
# 400 x 900 = 0x190 x 0x384 = 0x1900384
r 'HKCU\Console' 0x1900384 WindowPosition
# 25 x 80 = 0x19 x 0x50 = 0x190050
r 'HKCU\Console' 0x190050 WindowSize

# Mount C:
mount -c /
mount -m > /etc/fstab

# These variables need to be defined before
# Bash is invoked, and defined permanently.
setx -m CHERE_INVOKING 1
setx -m CYGWIN nodosfilewarning
