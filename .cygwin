#!/bin/sh
## ## ## ## ## ## GitHub highlight hack
# with the registry, the first slash must be a backslash

# add Notepad2 option for known and unknown filetypes
set '"%programfiles%/notepad2/notepad2" %1'

set "$1" /root/*/shell/Notepad2
regtool add $2
regtool add $2/command
regtool -e set $2/command/ "$1"

set "$1" /root/unknown/shell/Notepad2
regtool add $2
regtool add $2/command
regtool -e set $2/command/ "$1"

# add Cygwin to right click menus
# /etc/profile slows bash startup
set 'cmd /c cd %v & start %homedrive%/cygwin/bin/bash --noprofile'

set "$1" /root/directory/background/shell/cygwin
regtool add $2
regtool add $2/command
regtool -e set $2/command/ "$1"

set "$1" /root/directory/shell/cygwin
regtool add $2
regtool add $2/command
regtool -e set $2/command/ "$1"

# VLC option for folders
set '"%programfiles(x86)%/videolan/vlc/vlc" "%1"'

set "$1" /root/directory/shell/VLC
regtool add $2
regtool add $2/command
regtool -e set $2/command/ "$1"

# QuickEdit Mode
regtool set /user/Console/QuickEdit 1
# 2000 x 80 = 0x7d0 x 0x50
regtool set /user/Console/ScreenBufferSize 0x7d00050
# 400 x 900 = 0x190 x 0x384
regtool set /user/Console/WindowPosition 0x1900384
# 25 x 80 = 0x19 x 0x50
regtool set /user/Console/WindowSize 0x190050

# Mount HOMEDRIVE
echo - / cygdrive acl >/etc/fstab
