#!/bin/sh
## ## ## ## ## ## GitHub highlight hack

# set up Notepad2
set -- -f -t reg_expand_sz -d '"%programfiles%/notepad2/notepad2" %1'

reg add 'hkcr\batfile\shell\edit\command' "$@"
reg add 'hkcr\inifile\shell\open\command' "$@"
reg add 'hkcr\jsfile\shell\edit\command' "$@"
reg add 'hkcr\regfile\shell\edit\command' "$@"
reg add 'hkcr\txtfile\shell\open\command' "$@"
reg add 'hkcr\unknown\shell\edit\command' "$@"
reg add 'hkcr\xmlfile\shell\open\command' "$@"
reg add 'hkcr\SystemFileAssociations\text\shell\open\command' "$@"

reg add 'hkcr\unknown\shell' -d edit -f
reg add 'hkcr\xmlfile\shell\open\ddeexec' -f

# VLC option for folders
set -- -f -t reg_expand_sz -d '"%programfiles(x86)%/videolan/vlc/vlc" "%1"'

reg add 'hkcr\directory\shell\VLC\command' "$@"

# add Cygwin to right click menus
# /etc/profile slows bash startup
set -- -f -d 'cmd /c cd %v & start %homedrive%/cygwin/bin/bash --noprofile'

reg add 'hkcr\directory\background\shell\cygwin\command' -t reg_expand_sz "$@"
reg add 'hkcr\directory\shell\cygwin\command' -t reg_expand_sz "$@"

# console
# hex values are HHHHWWWW or XXXXYYYY
set -- -f -t reg_dword

reg add 'hkcu\console' -v QuickEdit -d 1 "$@"
reg add 'hkcu\console' -v ScreenBufferSize -d 0x07d00050 "$@"
reg add 'hkcu\console' -v WindowPosition -d 0x01900384 "$@"
reg add 'hkcu\console' -v WindowSize -d 0x00190050 "$@"

# Mount HOMEDRIVE
echo - / cygdrive acl >/etc/fstab
